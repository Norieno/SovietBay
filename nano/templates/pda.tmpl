
<!--
Title: PDA UI
Used In File(s): \code\game\objects\items\devices\PDA\PDA.dm
 -->
{{if data.owner}}
	<div class="item">
		<div class="itemLabelNarrow">
			 <b>Операции</b>:
        </div>
        <div class="itemContent">
			<!--{{:helper.link('Обновить', 'refresh', {'choice' : "Refresh"}, null, 'fixedLeft')}}-->
			{{:helper.link('Закрыть', 'gear', {'choice' : "Close"}, null, 'fixedLeft')}}
			{{if data.idInserted}} {{:helper.link('Обновить PDA', 'eject', {'choice' : "UpdateInfo"}, null, 'fixedLeftWide')}} {{/if}}
			{{if data.mode != 0}} {{:helper.link('Вернуться', 'arrowreturn-1-w', {'choice' : "Return"}, null, 'fixedLeft')}} {{/if}}
		</div>
	</div>
	<br>
	<div class="item">
		<div class="itemLabelNarrow">
			<b>Время</b>:
		</div>
		<div class="itemContent">
			<span class="average">{{:data.stationTime}}</span>
		</div>
	</div>
	<br>


	{{if data.mode == 0}} <!-- Main Menu -->
        <div class="item">
            <div class="itemLabelNarrow">
                Владелец:
            </div>
            <div class="itemContent">
                <span class="average">{{:data.owner}}, {{:data.ownjob}}</span>
            </div>
        </div>
        <br>
        <div class="item">
            <div class="itemLabelNarrow">
                ID карта:
            </div>
            <div class="itemContent">
                {{:helper.link(data.idLink, 'eject', {'choice' : "Authenticate"}, data.idInserted ? null : 'disabled', data.idInserted ? 'floatright' : 'fixedLeft')}}
            </div>
        </div>
        <br>
        <div class="item">
            <div class="itemLabelNarrow">
                    <b>Картридж</b>:
            </div>
            <div class="itemContent">
                {{if data.cart_loaded==1}}
                    {{:helper.link(data.cartridge.name, 'eject', {'choice' : "Eject"},null,null)}}
                {{else}}
                    {{:helper.link('Не установлен', 'eject', {'choice' : "Eject"},'disabled',null)}}
                {{/if}}
            </div>
        </div>
        <div class="item">
            <H2>Операции</H2>
        </div>
        <div class="item">
            <div class="itemLabelNarrow">
                <b>Основные</b>:
            </div>
            <div class="itemContent">
                {{:helper.link('Блокнот', 'note', {'choice' : "1"}, null, 'fixedLeftWide')}}
                {{:helper.link('Почта', data.new_Message ? 'mail-closed' : 'mail-open', {'choice' : "2"}, null, 'fixedLeftWide')}}
                {{:helper.link('Экипаж', 'contact', {'choice' : "41"}, null, 'fixedLeftWide')}}
				{{:helper.link('Новости', data.new_News ? 'mail-closed' : 'mail-open', {'choice' : "6"}, null, 'fixedLeftWide')}}
            </div>
        </div>
        <br>
        {{if data.cartridge}}
            {{if data.cartridge.access.access_clown == 1}}
                <div class="item">
                    <div class="itemLabelNarrow">
                        <b>Развлечения</b>:
                    </div>
                    <div class="itemContent">
                        {{:helper.link('ХОНК синтезатор', 'gear', {'choice' : "Honk"}, null, 'fixedLeftWide')}}
                    </div>
                </div>
                <br>
            {{/if}}
            {{if data.cartridge.access.access_engine == 1}}
                <div class="item">
                    <div class="itemLabelNarrow">
                        <b>Инженерия</b>:
                    </div>
                    <div class="itemContent">
                        {{:helper.link('Контроль мощности', 'alert', {'choice' : "43"}, null, 'fixedLeftWide')}}
                    </div>
                </div>
                 <br>
            {{/if}}
            {{if data.cartridge.access.access_medical == 1}}
                <div class="item">
                    <div class="itemLabelNarrow">
                            <b>Медицинские</b>:
                    </div>
                    <div class="itemContent">
                            {{:helper.link('Медицинские записи', 'gear', {'choice' : "44"}, null, 'fixedLeftWide')}}
                            {{:helper.link(data.scanmode == 1 ? 'Сканер: <span class="good">Вкл</span>' : 'Сканер: <span class="bad">Выкл</span>', 'gear', {'choice' : "Medical Scan"}, null , 'fixedLeftWide')}}
                    </div>
                </div>
                <br>
            {{/if}}
            {{if data.cartridge.access.access_security == 1}}
                <div class="item">
                    <div class="itemLabelNarrow">
                            <b>Охрана</b>:
                    </div>
                    <div class="itemContent">
                        {{:helper.link('Записи охраны', 'gear', {'choice' : "45"}, null, 'fixedLeftWide')}}
                        {{if data.cartridge.radio ==1}} {{:helper.link('Охранные боты', 'gear', {'choice' : "46"}, null, 'fixedLeftWide')}} {{/if}}
                        <br>
                    </div>
                </div>
                <br>
            {{/if}}
            {{if data.cartridge.access.access_quartermaster == 1}}
                <div class="item">
                    <div class="itemLabelNarrow">
                        <b>Завхоз</b>:
                    </div>
                    <div class="itemContent">
                        {{:helper.link('Записи поставок', 'gear', {'choice' : "47"}, null, 'fixedLeftWide')}}
                        {{if data.cartridge.radio == 3}} {{:helper.link('Боты доставки', 'gear', {'choice' : "48"}, null, 'fixedLeftWide')}} {{/if}}
                         <br>
                    </div>
                </div>
                <br>
            {{/if}}
        {{/if}}
        <br>
        <div class="item">
            <div class = "itemLabelNarrow">
                <b>Инструменты</b>:
            </div>
            <div class = "itemContent">
                {{if data.cartridge}}
                    {{if data.cartridge.access.access_status_display == 1}}
                        {{:helper.link('Экраны информации', 'gear', {'choice' : "42"}, null, 'fixedLeftWide')}}
                    {{/if}}
                    {{if data.cartridge.access.access_janitor==1}}
                        {{:helper.link('Детектор швабр', 'gear', {'choice' : "49"}, null, 'fixedLeftWide')}}
                    {{/if}}
                    {{if data.cartridge.radio == 2}}
                        {{:helper.link('Сигналлер', 'gear', {'choice' : "40"}, null, 'fixedLeftWide')}}
                    {{/if}}
                    {{if data.cartridge.access.access_reagent_scanner==1}}
                        {{:helper.link(data.scanmode == 3 ? 'Сканер веществ: <span class="good">Вкл</span>' : 'Сканер веществ: <span class="bad">Выкл</span>', 'gear', {'choice' : "Reagent Scan"}, null, 'fixedLeftWider')}}
                    {{/if}}
                    {{if data.cartridge.access.access_engine==1}}
                        {{:helper.link(data.scanmode == 4 ? 'Disable Halogen Counter' : 'Enable Halogen Counter', 'gear', {'choice' : "Halogen Counter"}, null, 'fixedLeftWider')}}
                    {{/if}}
                    {{if data.cartridge.access.access_atmos==1}}
                        {{:helper.link(data.scanmode == 5 ? 'Сканер газов: <span class="good">Вкл</span>' : 'Сканер газов: <span class="bad">Выкл</span>', 'gear', {'choice' : "Gas Scan"}, null, 'fixedLeftWide')}}
                    {{/if}}
                    {{if data.cartridge.access.access_remote_door==1}}
                        {{:helper.link('Toggle Door', 'gear', {'choice' : "Toggle Door"}, null, 'fixedLeftWide')}}
                    {{/if}}
                {{/if}}
                {{:helper.link('Скан атмосферы', 'gear', {'choice' : "3"}, null, 'fixedLeftWide')}}
                {{:helper.link(data.fon==1 ? 'Фонарик: <span class="good">Вкл</span>' : 'Фонарик: <span class="bad">Выкл</span>', 'lightbulb', {'choice' : "Light"}, null,'fixedLeftWide')}}
            </div>
        </div>
        {{if data.pai}}
            <div class="item">
                <div class = "itemLabelNarrow">
                    <b>Фунции пИИ</b>:
                </div>
                <div class = "itemContent">
                    {{:helper.link('Настройка', 'gear', {'choice' : "pai", 'option' : "1"}, null, 'fixedLeft')}}
                    {{:helper.link('Вынять пИИ', 'eject', {'choice' : "pai", 'option' : "2"}, null, 'fixedLeft')}}
                </div>
            </div>
        {{/if}}


	{{else data.mode == 1}} <!-- Notekeeper -->
        <div class="item">
            <div class="itemLabel">
                <b>Заметки</b>:
            </div>
        </div>
        <div class="statusDisplayRecords">
            <div class="item">
                <div class="itemContent" style="width: 100%;">
                        <span class="average">{{:data.note}}</span>
                </div>
            </div>
        </div>
        <div class="item">
            <div class="itemLabel">
                {{:helper.link('Правка', 'gear', {'choice' : "Edit"}, null, 'fixedLeft')}}
            </div>
        </div>


    {{else data.mode == 2}} <!-- Messenger -->
        <H2>Почта V4.0.2</H2>
        <div class="item">
            <div class="itemLabelNarrow">
                <b>Операции</b>:
            </div>
            <div class ="itemContent">
                {{:helper.link(data.message_silent==1 ? 'Звук: <span class="bad">Выкл</span>' : 'Звук: <span class="good">Вкл</span>', data.message_silent==1 ? 'volume-off' : 'volume-on', {'choice' : "Toggle Ringer"}, null, 'fixedLeftWide')}}
                {{:helper.link(data.toff==1 ? 'Почта: <span class="bad">Выкл</span>' : 'Почта: <span class="good">Вкл</span>',data.toff==1 ? 'close':'check', {'choice' : "Toggle Messenger"}, null, 'fixedLeftWide')}}
                {{:helper.link('Рингтон', 'comment', {'choice' : "Ringtone"}, null, 'fixedLeftWide')}}
                {{:helper.link('Удалить историю', 'trash', {'choice' : "Clear", 'option' : "All"}, null, 'fixedLeftWider')}}
            </div>
        </div>
        {{if data.toff == 0}}
            <br><br>
            {{if data.cartridge}}
                {{if data.cartridge.charges}}
                    <div class="item">
                        <b>{{:data.cartridge.charges}}
                        {{if data.cartridge.access.access_detonate_pda}} detonation charges left. {{/if}}
                        {{if data.cartridge.access.access_clown || data.cartridge.access.access_mime}} viral files left. {{/if}}
                        </b>
                        <br><br>
                    </div>
                {{/if}}
            {{/if}}

            {{if data.pda_count == 0}}
                <b>ПДА не обнаружены</b>
            {{else}}
                <H3>Активные переписки</H3>
                {{for data.convopdas}}
                    <div class="item">
                        {{:helper.link(value.Name, 'circle-arrow-s', {'choice' : "Select Conversation", 'convo' : value.Reference } , null, value.fixedLeftWider)}}
                        {{if data.cartridge}}
                            {{if data.cartridge.access.access_detonate_pda && value.Detonate}}
                                {{:helper.link('*Detonate*', 'radiation', {'choice' : "Detonate", 'target' : value.Reference}, null, 'fixedLeft')}}
                            {{/if}}
                            {{if data.cartridge.access.access_clown}}
                                {{:helper.link('*Send Virus*', 'star', {'choice' : "Send Honk", 'target' : value.Reference}, null, 'fixedLeft')}}
                            {{/if}}
                            {{if data.cartridge.access.access_mime}}
                                {{:helper.link('*Send Virus*', 'circle-arrow-s', {'choice' : "Send Silence", 'target' : value.Reference}, null, 'fixedLeft')}}
                            {{/if}}
                        {{/if}}
                    </div>
                {{/for}}
                <H3>Остальное</H3>
                {{for data.pdas}}
                    <div class="item">
                        {{:helper.link(value.Name, 'circle-arrow-s', {'choice' : "Message", 'target' : value.Reference}, null, value.fixedLeftWider)}}
                        {{if data.cartridge}}
                            {{if data.cartridge.access.access_detonate_pda && value.Detonate}} {{:helper.link('*Detonate*', 'radiation', {'choice' : "Detonate", 'target' : value.Reference}, null, 'fixedLeft')}}  {{/if}}
                            {{if data.cartridge.access.access_clown}} {{:helper.link('*Send Virus*', 'star', {'choice' : "Send Honk", 'target' : value.Reference}, null, 'fixedLeft')}}  {{/if}}
                            {{if data.cartridge.access.access_mime}}  {{:helper.link('*Send Virus*', 'circle-arrow-s', {'choice' : "Send Silence", 'target' : value.Reference}, null, 'fixedLeft')}}  {{/if}}
                        {{/if}}
                    </div>
                {{/for}}
            {{/if}}
        {{/if}}


	{{else data.mode == 21}} <!-- Messenger -->
	    <H2>Почта V4.0.2</H2>
        <div class="item">
            <div class="itemLabel">
                <b>Операции</b>:
            </div>
            <div class ="itemContent">
                {{:helper.link('Удалить переписку', 'trash', {'choice' : "Clear", 'option' : "Convo"}, null, 'fixedLeftWide')}}
            </div>
        </div>
        <br>
        <br>
        <H3>Переписка с&nbsp;<span class="average">{{:data.convo_name}}&nbsp;({{:data.convo_job}})</span></H3>
        <div class="statusDisplay" style="overflow: auto;">
            <div class="item">
                <div class="itemContent" style="width: 100%;">
                    {{for data.messages}}
                        {{if data.active_conversation == value.target}}
                            {{if value.sent==0}}
                                <span class="average"><B>Them</B>: {{:value.message}}</span><br>
                            {{else}}
                                <span class="good"><B>You</B>: {{:value.message}}</span><br>
                            {{/if}}
                        {{/if}}
                    {{/for}}
                </div>
            </div>
        </div>
        {{:helper.link('Ответить', 'comment', {'choice' : "Message", 'target': data.active_conversation}, null, 'fixedLeft')}}
		

	{{else data.mode== 41}} <!-- Manifest uses cached data so we only use nanowriter when shit changes.-->
	    <div class="item">
            <center><table class="pmon"><tbody>
                {{if data.manifest.heads.length}}
                    <tr><th colspan="3" class="command">Командование</th></tr>
                    {{for data.manifest["heads"]}}
                        {{if value.rank == "Captain"}}
                            <tr><td><span class="good">{{:value.name}}</span></td><td><span class="good">{{:value.rank}}</span></td><td><span class="good">{{:value.active}}</span></td></tr>
                        {{else}}
                            <tr><td><span class="average">{{:value.name}}</span></td><td><span class="average">{{:value.rank}}</span></td><td><span class="average">{{:value.active}}</span></td></tr>
                        {{/if}}
                    {{/for}}
                {{/if}}
                {{if data.manifest.sec.length}}
                    <tr><th colspan="3" class="sec">Служба безобасности</th></tr>
                    {{for data.manifest["sec"]}}
                        {{if value.rank == "Head of Security"}}
                            <tr><td><span class="good">{{:value.name}}</span></td><td><span class="good">{{:value.rank}}</span></td><td><span class="good">{{:value.active}}</span></td></tr>
                        {{else}}
                            <tr><td><span class="average">{{:value.name}}</span></td><td><span class="average">{{:value.rank}}</span></td><td><span class="average">{{:value.active}}</span></td></tr>
                        {{/if}}
                    {{/for}}
                {{/if}}
                {{if data.manifest.eng.length}}
                    <tr><th colspan="3" class="eng">Инженерный отдел</th></tr>
                    {{for data.manifest["eng"]}}
                        {{if value.rank == "Chief Engineer"}}
                            <tr><td><span class="good">{{:value.name}}</span></td><td><span class="good">{{:value.rank}}</span></td><td><span class="good">{{:value.active}}</span></td></tr>
                        {{else}}
                            <tr><td><span class="average">{{:value.name}}</span></td><td><span class="average">{{:value.rank}}</span></td><td><span class="average">{{:value.active}}</span></td></tr>
                        {{/if}}
                    {{/for}}
                {{/if}}
                {{if data.manifest.med.length}}
                    <tr><th colspan="3" class="med">Медицинский отдел</th></tr>
                    {{for data.manifest["med"]}}
                        {{if value.rank == "Chief Medical Officer"}}
                            <tr><td><span class="good">{{:value.name}}</span></td><td><span class="good">{{:value.rank}}</span></td><td><span class="good">{{:value.active}}</span></td></tr>
                        {{else}}
                            <tr><td><span class="average">{{:value.name}}</span></td><td><span class="average">{{:value.rank}}</span></td><td><span class="average">{{:value.active}}</span></td></tr>
                        {{/if}}
                    {{/for}}
                {{/if}}
                {{if data.manifest.sci.length}}
                    <tr><th colspan="3" class="sci">Научный отдел</th></tr>
                    {{for data.manifest["sci"]}}
                        {{if value.rank == "Research Director"}}
                            <tr><td><span class="good">{{:value.name}}</span></td><td><span class="good">{{:value.rank}}</span></td><td><span class="good">{{:value.active}}</span></td></tr>
                        {{else}}
                            <tr><td><span class="average">{{:value.name}}</span></td><td><span class="average">{{:value.rank}}</span></td><td><span class="average">{{:value.active}}</span></td></tr>
                        {{/if}}
                    {{/for}}
                {{/if}}
				{{if data.manifest.car.length}}
                    <tr><th colspan="3" class="car">Отдел поставок</th></tr>
                    {{for data.manifest["car"]}}
                        {{if value.rank == "Quartermaster"}}
                            <tr><td><span class="good">{{:value.name}}</span></td><td><span class="good">{{:value.rank}}</span></td><td><span class="good">{{:value.active}}</span></td></tr>
                        {{else}}
                            <tr><td><span class="average">{{:value.name}}</span></td><td><span class="average">{{:value.rank}}</span></td><td><span class="average">{{:value.active}}</span></td></tr>
                        {{/if}}
                    {{/for}}
                {{/if}}
                {{if data.manifest.civ.length}}
                    <tr><th colspan="3" class="civ">Гражданские</th></tr>
                    {{for data.manifest["civ"]}}
                        {{if value.rank == "Head of Personnel"}}
                            <tr><td><span class="good">{{:value.name}}</span></td><td><span class="good">{{:value.rank}}</span></td><td><span class="good">{{:value.active}}</span></td></tr>
                        {{else}}
                            <tr><td><span class="average">{{:value.name}}</span></td><td><span class="average">{{:value.rank}}</span></td><td><span class="average">{{:value.active}}</span></td></tr>
                        {{/if}}
                    {{/for}}
                {{/if}}
                {{if data.manifest.misc.length}}
                    <tr><th colspan="3" class="misc">Остальное</th></tr>
                    {{for data.manifest["misc"]}}
                        <tr><td><span class="average">{{:value.name}}</span></td><td><span class="average">{{:value.rank}}</span></td><td><span class="average">{{:value.active}}</span></td></tr>
                    {{/for}}
                {{/if}}
                {{if data.manifest.bot.length}}
                    <tr><th colspan="3" class="bot">Synthetic</th></tr>
                    {{for data.manifest["bot"]}}
                        <tr><td><span class="average">{{:value.name}}</span></td><td colspan="2"><span class="average">{{:value.rank}}</span></td></tr>
                    {{/for}}
                {{/if}}
            </tbody></table></center>
        </div>


	{{else data.mode == 3}}
        <H2>Результаты сканирования:</H2>
        <div class="statusDisplay" style="height: 250px; overflow: auto;">
            <div class="item">
                {{if data.aircontents.reading == 1}}
                    <div class="itemLabel">
                        Давление:
                    </div>
                    <div class = "itemContent">
				        {{:helper.string('<span class="{0}">{1} кПа</span>', data.aircontents.pressure < 80 || data.aircontents.pressure > 120 ? 'bad' : data.aircontents.pressure < 95 || data.aircontents.pressure > 110 ? 'average' : 'good' , data.aircontents.pressure)}}
                    </div>
                    <div class="itemLabel">
                        Температура:
                    </div>
                    <div class = "itemContent">
				        {{:helper.string('<span class="{0}">{1} &deg;C</span>', data.aircontents.temp < 5 || data.aircontents.temp > 35 ? 'bad' : data.aircontents.temp < 15 || data.aircontents.temp > 25 ? 'average' : 'good' , data.aircontents.temp)}}
                    </div>
                    <br>
                    <div class="itemLabel">
                        Кислород:
                    </div>
                    <div class = "itemContent">
                        {{:helper.string('<span class="{0}">{1}%</span>', data.aircontents.oxygen < 17 ? 'bad' : data.aircontents.oxygen < 19 ? 'average' : 'good' , data.aircontents.oxygen)}}
                    </div>
                    <div class="itemLabel">
                        Азот:
                    </div>
                    <div class = "itemContent">
                        {{:helper.string('<span class="{0}">{1}%</span>', data.aircontents.nitrogen > 82 ? 'bad' : data.aircontents.nitrogen > 80 ? 'average' : 'good' , data.aircontents.nitrogen)}}
                    </div>
                    <div class="itemLabel">
                        Диоксид углерода:
                    </div>
                    <div class = "itemContent">
                        {{:helper.string('<span class="{0}">{1}%</span>', data.aircontents.carbon_dioxide > 5 ? 'bad' : 'good' , data.aircontents.carbon_dioxide)}}
                    </div>
                    <div class="itemLabel">
                        Форон:
                    </div>
                    <div class = "itemContent">
                        {{:helper.string('<span class="{0}">{1}%</span>', data.aircontents.phoron  > 0 ? 'bad' : 'good' , data.aircontents.phoron)}}

                    </div>
                    {{if data.aircontents.other > 0}}
                        <div class="itemLabel">
                            Неизвестный газ:
                        </div>
                        <div class = "itemContent">
                            <span class="bad">{{:data.aircontents.other}}%</span>
                        </div>
                    {{/if}}
                {{else}}
                    <div class="itemContent" style="width: 100%;">
                        <span class="average"><b>Ошибка анализа атмосферы</b></span>
                    </div>
                {{/if}}
            </div>
        </div>


	{{else data.mode == 40}} <!-- Cartridge: Signaler -->
        <H2>Сигнальная система</H2>
        <div class="item">
            <div class="itemLabel">
                <b>Частота</b>:
            </div>
            <div class="itemContent">
                {{:data.records.signal_freq}}
                <br>
                &nbsp;
                {{:helper.link('-1', null, {'cartmenu' : "1", 'choice' : "Signal Frequency", 'sfreq' : "-10"}, null, null)}}&nbsp;
                {{:helper.link('-.2', null, {'cartmenu' : "1", 'choice' : "Signal Frequency", 'sfreq' : "-2"}, null, null)}}&nbsp;

                {{:helper.link('+.2', null, {'cartmenu' : "1", 'choice' : "Signal Frequency", 'sfreq' : "2"}, null, null)}}&nbsp;
                {{:helper.link('+1', null, {'cartmenu' : "1", 'choice' : "Signal Frequency", 'sfreq' : "10"}, null, null)}}
            </div>
        </div>
        <br>
        <br>
        <div class="item">
            <div class="itemLabel">
                    <b>Кодировка</b>:
            </div>
            <div class="itemContent">
                <span class="average">
                    {{:data.records.signal_code}}<br>
                </span>
                {{:helper.link('-5', null, {'cartmenu' : "1", 'choice' : "Signal Code", 'scode' : "-5"}, null, null)}}
                {{:helper.link('-1', null, {'cartmenu' : "1", 'choice' : "Signal Code", 'scode' : "-1"}, null, null)}}
                {{:helper.link('+1', null, {'cartmenu' : "1", 'choice' : "Signal Code", 'scode' : "1"}, null, null)}}
                {{:helper.link('+5', null, {'cartmenu' : "1", 'choice' : "Signal Code", 'scode' : "5"}, null, null)}}
            </div>
        </div>
        <div class="item">
            {{:helper.link('Послать сигнал', 'radiation', {'cartmenu' : "1", 'choice' : "Send Signal"}, null, null)}}
        </div>


    {{else data.mode == 42}}
        <H2>Статус станции. Управление мониторами.</H2>
        <div class="item">
            <div class="itemLabel">
                <b>Код</b>:
            </div>
            <div class="itemContent">
                {{:helper.link('Очистить', 'trash', {'cartmenu' : "1", 'choice' : "Status", 'statdisp' : "blank"}, null, null)}}
                {{:helper.link('Шаттл ETA', 'gear', {'cartmenu' : "1", 'choice' : "Status",'statdisp' : "shuttle"}, null, null)}}
                {{:helper.link('Сообщение', 'gear', {'cartmenu' : "1", 'choice' : "Status",'statdisp' : "message"}, null, null)}}
            </div>
        </div>
        <br>
        <div class="item">
            <div class="itemLabel">
                <b>Сообщение: стока 1</b>
            </div>
            <div class="itemContent">
                {{:helper.link(data.records.message1 + ' (задать)', 'pencil', {'cartmenu' : "1", 'choice' : "Status",'statdisp' : "setmsg1"}, null, null)}}
            </div>
        </div>
        <div class="item">
            <div class="itemLabel">
                <b>Сообщение: стока 2</b>
            </div>
            <div class="itemContent">
                {{:helper.link(data.records.message2 + ' (задать)', 'pencil', {'cartmenu' : "1", 'choice' : "Status",'statdisp' : "setmsg2"}, null, null)}}
            </div>
        </div>

        <br>
        <div class="item">
            <div class="itemLabel">
                <b> ТРЕВОГА!</b>:
            </div>
            <div class="itemContent">
                {{:helper.link('Нет', 'alert', {'cartmenu' : "1", 'choice' : "Status",'statdisp' : "alert", 'alert' : "default"}, null, null)}}
                {{:helper.link('Зеленый код', 'alert', {'cartmenu' : "1", 'choice' : "Status",'statdisp' : "alert", 'alert' : "greenalert"}, null, null)}}
                {{:helper.link('Синий код', 'alert', {'cartmenu' : "1", 'choice' : "Status",'statdisp' : "alert", 'alert' : "bluealert"}, null, null)}}
                {{:helper.link('Красный код', 'alert', {'cartmenu' : "1", 'choice' : "Status",'statdisp' : "alert", 'alert' : "redalert"}, null, null)}}
                {{:helper.link('Изоляция', 'caution', {'cartmenu' : "1", 'choice' : "Status",'statdisp' : "alert", 'alert' : "lockdown"}, null, null)}}
                {{:helper.link('Био-опасность', 'radiation', {'cartmenu' : "1", 'choice' : "Status",'statdisp' : "alert", 'alert' : "biohazard"}, null, null)}}
            </div>
        </div>

    {{else data.mode == 43}}
        <H2>Контроль мощности</H2>
        <div class="item">
            Активные сенсоры:
        </div>
        {{for data.records.power_sensors}}
            <div class="item">
                {{:helper.link(value.name_tag, 'plus', {'cartmenu' : "1", 'choice' : "Power Select",'target' : value.name_tag})}}<br>
            </div>
        {{/for}}


    {{else data.mode == 433}}
        <H2>Данные сеносоров(упрощенный вид)</H2>
		{{if data.records.sensor_reading}}
			<table><tr><th>Area<th>Заряд %<th>Нагрузка
			{{for data.records.sensor_reading.apc_data}}
				<tr><td>{{:value.name}}
				<td>{{:value.cell_charge}}%
				<td>{{:value.total_load}}
			{{empty}}
				<tr><td>АПЦ не найдены!
			{{/for}}
			</table>
			<br><b>Доступно: {{:data.records.sensor_reading.total_avail}}</b>
			<br><b>Нагрузка: {{:data.records.sensor_reading.total_used_all}}</b>
		{{else}}
			Не удалось связаться с контроллером датчика! Пожалуйста, повторите попытку и свяжитесь с техподдержкой, если проблема не устранена.
		{{/if}}

	{{else data.mode == 44}}
	    <H2>Медицинские записи</H2>
        <div class="item">
	        Выберите запись
	    </div>
	    <br>
		{{for data.records.medical_records}}
            <div class="item">
                 {{:helper.link(value.Name, 'gear', {'cartmenu' : "1", 'choice' : "Medical Records",'target' : value.ref}, null, null)}}
            </div>
		{{/for}}


	{{else data.mode == 441}}
        <H2>Медицинские записи</H2>
        <div class="statusDisplayRecords">
            <div class="item">
                <div class="itemContent" style="width: 100%;">
                    {{if data.records.general_exists == 1}}
                        <span class="good">Имя:		</span> <span class="average">{{:data.records.general.name}}	</span><br>
                        <span class="good">Пол:			</span> <span class="average">{{:data.records.general.sex}}		</span><br>
                        <span class="good">Раса:		</span> <span class="average">{{:data.records.general.species}}	</span><br>
                        <span class="good">Возраст:			</span> <span class="average">{{:data.records.general.age}}		</span><br>
                        <span class="good">Ранг:		</span> <span class="average">{{:data.records.general.rank}}	</span><br>
                        <span class="good">Отпечатки пальцев:		</span> <span class="average">{{:data.records.general.fingerprint}}	</span><br>
                        <span class="good">Физическое состояние:	</span> <span class="average">{{:data.records.general.p_stat}}	</span><br>
                        <span class="good">Психическое состояние:	</span> <span class="average">{{:data.records.general.m_stat}}	</span><br><br>
                    {{else}}
                        <span class="bad">
                            Основные записи потеряны!<br><br>
                        </span>
                    {{/if}}
                    {{if data.records.medical_exists == 1}}
                        Медицинские данные:<br>
                        <span class="good">Группа крови:		</span> <span class="average">{{:data.records.medical.b_type}}	</span><br><br>
                        <span class="good">Незначительные травмы:	</span> <span class="average">{{:data.records.medical.mi_dis}}	</span><br>
                        <span class="good">Детали:		</span> <span class="average">{{:data.records.medical.mi_dis_d}}	</span><br><br>
                        <span class="good">Серьезные травмы:	</span> <span class="average">{{:data.records.medical.ma_dis}}	</span><br>
                        <span class="good">Детали:		</span> <span class="average">{{:data.records.medical.ma_dis_d}}	</span><br><br>
                        <span class="good">Аллергии:		</span> <span class="average">{{:data.records.medical.alg}}		</span><br>
                        <span class="good">Детали:		</span> <span class="average">{{:data.records.medical.alg_d}}	</span><br><br>
                        <span class="good">Текущие травмы:	</span> <span class="average">{{:data.records.medical.cdi}}		</span><br>
                        <span class="good">Детали:		</span> <span class="average">{{:data.records.medical.alg_d}}	</span><br><br>
                        <span class="good">Важные заметки:	</span> <span class="average">{{:data.records.medical.notes}}	</span>
                    {{else}}
                        <span class="bad">
                            Медецинские записи потеряны!
                            <br>
                            <br>
                        </span>
                    {{/if}}
                </div>
            </div>
        </div>


 	{{else data.mode == 45}}
        <H2>Записи охраны</H2>
        <div class="item">
            Выберите запись
        </div>
        <br>
        {{for data.records.security_records}}
            <div class="item">
                 {{:helper.link(value.Name, 'gear', {'cartmenu' : "1", 'choice' : "Security Records",'target' : value.ref}, null, null)}}
            </div>
        {{/for}}


    {{else data.mode == 451}}
        <H2>Записи охраны</H2>
        <div class="statusDisplayRecords">
            <div class="item">
                <div class="itemContent" style="width: 100%;">
                    {{if data.records.general_exists == 1}}
                        <span class="good">Имя: </span> <span class="average"> {{:data.records.general.name}}</span><br>
                        <span class="good">Пол: </span>  <span class="average">{{:data.records.general.sex}} </span><br>
                        <span class="good">Раса: </span> <span class="average">{{:data.records.general.species}} </span><br>
                        <span class="good">Возраст: </span>  <span class="average">{{:data.records.general.age}} </span><br>
                        <span class="good">Ранг: </span>  <span class="average">{{:data.records.general.rank}} </span><br>
                        <span class="good">Отпечатки пальцев:  </span> <span class="average">{{:data.records.general.fingerprint}} </span><br>
                        <span class="good">Физическое состояние:  </span> <span class="average">{{:data.records.general.p_stat}} </span><br>
                        <span class="good">Психическое состояние:  </span> <span class="average">{{:data.records.general.m_stat}} </span><br><br>
                    {{else}}
                        <span class="bad">
                            Основные записи потеряны!<br><br>
                        </span>
                    {{/if}}
                    {{if data.records.security_exists == 1}}
                        Security Data:<br>
                        <span class="good">Статус:  </span><span class="average">{{:data.records.security.criminal}} </span><br><br>
                        <span class="good">Малые нарушения:  </span><span class="average">{{:data.records.security.mi_crim}} </span><br>
                        <span class="good">Детали:  </span><span class="average">{{:data.records.security.mi_crim_d}} </span><br><br>
                        <span class="good">Серьезные нарушения:  </span><span class="average">{{:data.records.security.ma_crim}} </span><br>
                        <span class="good">Детали:  </span><span class="average">{{:data.records.security.ma_crim_d}} </span><br><br>
                        <span class="good">Важные заметки:   </span><span class="average">{{:data.records.security.notes}} </span>
                    {{else}}
                        <span class="bad">
                            Записи охраны потеряны!<br><br>
                        </span>
                    {{/if}}
                </div>
            </div>
        </div>


	{{else data.mode == 46}}
	    <H2>Охранные боты </H2>
		{{if data.records.beepsky.active == null || data.records.beepsky.active == 0}}
			{{if data.records.beepsky.count == 0}}
				<H1><span class="bad">Не обнаружено.</span></H1>
			{{else}}
                <div class="item">
			        Выберите бота.
                </div>
                <br>
                {{for data.records.beepsky.bots}}
			        <div class="item">
                         {{:helper.link(value.Name, 'gear', {'radiomenu' : "1", 'op' : "control",'bot' : value.ref}, null, null)}} (Location: {{:value.Location}})
			        </div>
                {{/for}}
			{{/if}}
			<br>
            {{:helper.link('Обнаружить доступных ботов','gear', {'radiomenu' : "1", 'op' : "scanbots"}, null, null)}}
		{{else}}
			<H1><span class="average">{{:data.records.beepsky.active}}</span></H1>
			<br><br>
			{{if data.records.beepsky.botstatus.mode == -1}}
                <H1><span class="bad">Ожидайте ответа...</span></H1>
			{{else}}
                <H1><span class="good">Статус:</span></H1>
                <br>
                <div class = "item">
                    <div class="itemLabel">
                        <span class="good">Место нахождения:</span>
                    </div>
                    <div class="itemContent">
                        <span class="average">{{:data.records.beepsky.botstatus.loca}}</span>
                    </div>
                </div>
                <div class = "item">
                    <div class="itemLabel">
                        <span class="good">Состояние:</span>
                    </div>
                    <div class="itemContent">
                        <span class="average">
                            {{if data.records.beepsky.botstatus.mode ==0}}
                                Готов
                            {{else data.records.beepsky.botstatus.mode == 1}}
                                Поиск цели
                            {{else data.records.beepsky.botstatus.mode ==2 || data.records.beepsky.botstatus.mode == 3}}
                                Арест цели
                            {{else data.records.beepsky.botstatus.mode ==4}}
                                Начало патруля
                            {{else data.records.beepsky.botstatus.mode ==5}}
                                Патрулирует
                            {{else data.records.beepsky.botstatus.mode ==6}}
                                Ответ на вызов
                            {{/if}}
                        </span>
                    </div>
                </div>
                <div class="item">
                    {{:helper.link('Прервать патруль', 'gear', {'radiomenu' : "1", 'op' : "stop"}, null, null)}}
                    {{:helper.link('Отправить в патруль', 'gear', {'radiomenu' : "1", 'op' : "go"}, null, null)}}
                    {{:helper.link('Вызвать', 'gear', {'radiomenu' : "1", 'op' : "summon"}, null, null)}}
                </div>
			{{/if}}
			{{:helper.link('Вернуться к списку ботов', 'gear', {'radiomenu' : "1", 'op' : "botlist"}, null, null)}}
		{{/if}}


	{{else data.mode == 47}}
		<H1><span class="average">Записи поставок</span></H1>
		<div class="item">
			<div class="itemLabelNarrow">
				<span class="good">Место положение:</span>
			</div>
			<div class="itemContent">
				<span class="average">
					{{if data.records.supply.shuttle_moving}}
					    На пути к станции ({{:data.records.supply.shuttle_eta}})
					{{else}}
					    Shuttle at {{:data.records.supply.shuttle_loc}}
					{{/if}}
				</span>
			</div>
		</div>
		<div class="statusDisplayRecords">
            <div class="item">
                <div class="itemContent" style="width: 100%;">
                    <span class="good"><B>Текущие одобренные заказы</B></span><br>
                    {{if data.records.supply.approved_count == 0}}
                        <span class="average"> Нет текущих утвержденных заказов </span><br><br>
                    {{else}}
                        {{for data.records.supply.approved}}
                            <span class="average">#{{:value.Number}} - {{:value.Name}} принял {{:value.OrderedBy}}<br>{{if value.Comment != ""}} {{:value.Comment}} <br>{{/if}}<br></span>
                        {{/for}}
                    {{/if}}
                    <br><br>
                    <span class="good"><B>Текущие запросы</B></span><br>
                    {{if data.records.supply.requests_count == 0}}
                            <span class="average">Нет текущих запросов</span><br><br>
                    {{else}}
                        {{for data.records.supply.requests}}
                            <span class="average">#{{:value.Number}} - {{:value.Name}} запросил {{:value.OrderedBy}}<br>{{if value.Comment != ""}} {{:value.Comment}} <br>{{/if}}<br></span>
                        {{/for}}
                    {{/if}}
				</div>
			</div>
		</div>


	{{else data.mode == 48}}
 		<H2>Контроль доставочных ботов </H2>
        {{if data.records.mulebot.active == null || data.records.mulebot.active == 0}}
            {{if data.records.mulebot.count == 0}}
                <H1><span class="bad">Не обнаружено.</span></H1>
            {{else}}
                <H2>Mule List</H2>
                <div class="item">
                    Выберите бота
                </div>
                <br>
                {{for data.records.mulebot.bots}}
                    <div class="item">
                         {{:helper.link(value.Name, 'gear', {'radiomenu' : "1", 'op' : "control",'bot' : value.ref}, null, null)}} (Location: {{:value.Location}})
                    </div>
                {{/for}}
            {{/if}}
            <br>
            {{:helper.link('Сканировать','gear', {'radiomenu' : "1", 'op' : "scanbots"}, null, null)}}
        {{else}}
            {{if data.records.mulebot.botstatus.mode == -1}}
                <H1><span class="bad">Ожидайте ответа...</span></H1>
            {{else}}
                <H1><span class="average">Статус:</span></H1>
                <br>
                <div class="item">
                    <div class="itemLabel">
                        <span class="good">Место нахождения:</span>
                    </div>
                    <div class="itemContent">
                        <span class="average">{{:data.records.mulebot.botstatus.loca}}</span>
                    </div>
                </div>
                <div class="item">
                    <div class="itemLabel">
                        <span class="good">Состояние:</span>
                    </div>
                    <div class="itemContent">
                        <span class="average">
                            {{if data.records.mulebot.botstatus.mode ==0}}
                                Готов
                            {{else data.records.mulebot.botstatus.mode == 1}}
                                Загрузка/Разгрузка
                            {{else data.records.mulebot.botstatus.mode ==2}}
                                В пути к месту доставки
                            {{else data.records.mulebot.botstatus.mode == 3}}
                                Возвращается на базу
                            {{else data.records.mulebot.botstatus.mode ==4}}
                                В ожидании освобождении пути
                            {{else data.records.mulebot.botstatus.mode ==5 || data.records.mulebot.botstatus.mode == 6}}
                                Расчет пути навигации
                            {{else data.records.mulebot.botstatus.mode ==7}}
                                Не удалось найти пункт назначения
                            {{/if}}
                        </span>
                    </div>
                </div>
                <div class="item">
                    <div class="itemLabel">
                        <span class="good">Текущий груз:</span>
                    </div>
                    <div class="itemContent">
                        <span class="average">
                            {{:helper.link(data.records.mulebot.botstatus.load == null ? 'Нет (выгрузить)' : data.records.mulebot.botstatus.load + ' (выгрузить)', 'gear', {'radiomenu' : "1", 'op' : "unload"},data.records.mulebot.botstatus.load == null ? 'disabled' : null, null)}}
                        </span>
                    </div>
                </div>
                <div class="item">
                    <div class="itemLabel">
                        <span class="good">Заряд батареи:</span>
                    </div>
                    <div class="itemContent">
                        <span class="average">
                            {{:data.records.mulebot.botstatus.powr}}%
                        </span>
                    </div>
                </div>
                <div class="item">
                    <div class="itemLabel">
                        <span class="good">Место назначения:</span>
                    </div>
                    <div class="itemContent">
                        {{:helper.link(data.records.mulebot.botstatus.dest == null || data.records.mulebot.botstatus.dest == "" ? 'Нет (установить)': data.records.mulebot.botstatus.dest+ ' (установить)', 'gear', {'radiomenu' : "1", 'op' : "setdest"}, null, null)}}
                    </div>
                </div>
                <div class="item">
                    <div class="itemLabel">
                        <span class="good">База:</span>
                    </div>
                    <div class="itemContent">
                        {{if data.records.mulebot.botstatus.home == null}} Нет {{else}} {{:data.records.mulebot.botstatus.home}} {{/if}}
                    </div>
                </div>
                <div class="item">
                    <div class="itemLabel">
                        <span class="good">Авто возврат:</span>
                    </div>
                    <div class="itemContent">
                       {{:helper.link(data.records.mulebot.botstatus.retn == 1 ? '<span class="good">Вкл</span>' : '<span class="bad">Выкл</span>', 'gear', {'radiomenu' : "1", 'op' : data.records.mulebot.botstatus.retn==1 ? "retoff" : "reton"}, null, null)}}
                    </div>
                </div>
                <div class="item">
                    <div class="itemLabel">
                        <span class="good">Авто погрузка:</span>
                    </div>
                    <div class="itemContent">
                        {{:helper.link(data.records.mulebot.botstatus.pick==1? '<span class="good">Вкл</span>' : '<span class="bad">Выкл</span>', 'gear', {'radiomenu' : "1", 'op' : data.records.mulebot.botstatus.pick==1 ? "pickoff" : "pickon"}, null, null)}}
                    </div>
                </div>
                <div class="item">
                    <div class="itemLabel">
                        <span class="good">Операции:</span>
                    </div>
                    <div class="itemContent">
                        {{:helper.link('Стоп', 'gear', {'radiomenu' : "1", 'op' : "stop"}, null, null)}}
                        {{:helper.link('Отправить', 'gear', {'radiomenu' : "1", 'op' : "go"}, null, null)}}
                        {{:helper.link('Вернуться', 'gear', {'radiomenu' : "1", 'op' : "home"}, null, null)}}
                    </div>
                </div>
                <br><br>
                {{:helper.link('Вернуться к списку ботов', 'gear', {'radiomenu' : "1", 'op' : "botlist"}, null, null)}}
            {{/if}}
        {{/if}}


	{{else data.mode == 49}}
        <H2>Локатор уборочного инвентаря</H2>
        <div class="item">
            <span class="good">Ваше место положения:</span>
            {{if data.records.janitor.user_loc.x == 0}}
                <span class="bad">Неизвестно</span>
            {{else}}
                <span class="average"> {{:data.records.janitor.user_loc.x}} / {{:data.records.janitor.user_loc.y}}</span>
            {{/if}}
        </div>
            <div class="item">
                {{for data.records.janitor.mops}}
                    {{if value.x==0}}
                        <span class="bad">Швабра не обнаружена</span>
                    {{else}}
                        <span class="good">Место положение швабры:</span>
                        <span class="average">({{:value.x}} / {{:value.y}}) - {{:value.dir}} - Status: {{:value.status}}</span><br>
                    {{/if}}
                {{/for}}
            </div>
        <div class="item">
            {{for data.records.janitor.buckets}}
                {{if value.x==0}}
                    <span class="bad">Ведро не обнаружено</span>
                {{else}}
                    <span class="good">Место положение ведра:</span>
                    <span class="average">({{:value.x}} / {{:value.y}}) - {{:value.dir}} - Water Level: {{:value.status}}</span><br>
                {{/if}}
            {{/for}}
        </div>
        <div class="item">
            {{for data.records.janitor.cleanbots}}
                {{if value.x==0}}
                    <span class="bad">Галоши не обнаружены</span>
                {{else}}
                    <span class="good">Место положение галош:</span>
                    <span class="average">({{:value.x}} / {{:value.y}}) - {{:value.dir}} - Status: {{:value.status}}</span><br>
                {{/if}}
            {{/for}}
        </div>
            <div class="item">
                {{for data.records.janitor.carts}}
                    {{if value.x==0}}
                        <span class="bad">Тележка не обнаружена</span>
                    {{else}}
                        <span class="good">Место положение тележки:</span>
                        <span class="average">({{:value.x}} / {{:value.y}}) - {{:value.dir}} - Status: {{:value.status}}</span><br>
                    {{/if}}
                {{/for}}
                
    {{else data.mode == 6}}
        <H2><span class="white">Новости ED 2.0.9</span></H2>
        
        <div class="item">
            <div class="itemLabelNarrow">
                <b>Настройки</b>:
            </div>
            <div class ="itemContent">
					{{:helper.link(data.news_silent==1 ? 'Звук: <span class="bad">Выкл</span>' : 'Звук: <span class="good">Вкл</span>', data.news_silent==1 ? 'volume-off' : 'volume-on', {'choice' : "Toggle News"}, null, 'fixedLeftWide')}}
                {{:helper.link('Установить рингтон', 'comment', {'choice' : "Newstone"}, null, 'fixedLeftWide')}}
            </div>
        </div>
        
		{{if data.reception != 1}}
			<span class="bad">Новостной центр не отвечает.</span>
		{{/if}}
		
		<div class="item">
            <div class="itemContent">
                {{for data.feedChannels}}
                    {{if value.censored}}
						{{:helper.link(value.name, 'circle-arrow-s', {'choice' : "Select Feed", 'feed' : value.feed, 'name' : value.name } , null, 'fixedLeftWiderRed')}}
                    {{else}}
                        {{:helper.link(value.name, 'circle-arrow-s', {'choice' : "Select Feed", 'feed' : value.feed, 'name' : value.name } , null, 'fixedLeftWider')}}
                    {{/if}}
                {{empty}}
                    <I>Нет активных новостных лент...</I>
                {{/for}}
            </div>
		</div>

    {{else data.mode == 61}}      
        <H2><span class="white">{{:data.feed.channel}}</span></H2>
        <span class="white">Основатель: </span><span class="average">{{:data.feed.author}}<br></span>
		
		{{if data.reception != 1}}
			<span class="bad">Новостной центр не отвечает.</span>
		{{/if}}
		
        <div class="statusDisplay" style="overflow: auto;">
            <div class="item">
                <div class="itemContent" style="width: 100%;">
					{{if data.feed.censored}}
						<H3><span class="bad">Внимание</span></H3>
						Этот канал был признан как угрожающий благосостоянию станции и помечен Нанотрасен уведомлением класса "<span class="bad">D</span>"<br>
						Никакие дальнейшие новостные уведомления не допускаются пока действует метка класса "<span class="bad">D</span>".<br>
					{{else}}
						{{for data.feed.messages}}
							-{{:value.body}}<br>
							{{if value.has_image}}
								<img src='newscaster_photo_{{:data.feed.channel}}_{{:value.index}}.png' width = '180'><br>
								{{if value.caption}}
									<span class="caption">{{:value.caption}}</span><br>
								{{/if}}
							{{/if}}
							<span class="footer">[{{:value.message_type}} от <span class="average">{{:value.author}}</span> - {{:value.time_stamp}}]</span><br>
							<br>
						{{empty}}
							<I>Новости не найдены в данном канале...</I>
						{{/for}}
					{{/if}}
				</div>
            </div>
        </div>
        
    {{/if}}
{{else}}
    <div class="wholeScreen">
        <br><br><br><br><br><br><br>Нет информации о владельце устройства
    </div>
{{/if}}

